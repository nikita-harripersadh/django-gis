.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "GDAL-VECTOR-CHECK-GEOMETRY" "1" "Nov 07, 2025" "" "GDAL"
.SH NAME
gdal-vector-check-geometry \- Check a dataset for invalid or non-simple geometries
.sp
Added in version 3.12.

.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.EX
Usage: gdal vector check\-geometry [OPTIONS] <INPUT> <OUTPUT>

Check a dataset for invalid geometries

Positional arguments:
  \-i, \-\-input <INPUT>                                  Input vector datasets [required]
  \-o, \-\-output <OUTPUT>                                Output vector dataset [required]

Common Options:
  \-h, \-\-help                                           Display help message and exit
  \-\-json\-usage                                         Display usage as JSON document and exit
  \-\-config <KEY>=<VALUE>                               Configuration option [may be repeated]
  \-q, \-\-quiet                                          Quiet mode (no progress bar)

Options:
  \-l, \-\-layer, \-\-input\-layer <INPUT\-LAYER>             Input layer name(s) [may be repeated]
  \-f, \-\-of, \-\-format, \-\-output\-format <OUTPUT\-FORMAT>  Output format (\(dqGDALG\(dq allowed)
  \-\-co, \-\-creation\-option <KEY>=<VALUE>                Creation option [may be repeated]
  \-\-lco, \-\-layer\-creation\-option <KEY>=<VALUE>         Layer creation option [may be repeated]
  \-\-overwrite                                          Whether overwriting existing output is allowed
  \-\-update                                             Whether to open existing dataset in update mode
  \-\-overwrite\-layer                                    Whether overwriting existing output is allowed
  \-\-append                                             Whether appending to existing layer is allowed
                                                       Mutually exclusive with \-\-upsert
  \-\-output\-layer <OUTPUT\-LAYER>                        Output layer name
  \-\-skip\-errors                                        Skip errors when writing features
  \-\-include\-valid                                      Include valid inputs in output, with empty geometry
  \-\-geometry\-field <GEOMETRY\-FIELD>                    Name of geometry field to check

Advanced Options:
  \-\-if, \-\-input\-format <INPUT\-FORMAT>                  Input formats [may be repeated]
  \-\-oo, \-\-open\-option <KEY>=<VALUE>                    Open options [may be repeated]
  \-\-output\-oo, \-\-output\-open\-option <KEY>=<VALUE>      Output open options [may be repeated]
  \-\-upsert                                             Upsert features (implies \(aqappend\(aq)
                                                       Mutually exclusive with \-\-append
.EE
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
\fBgdal vector check\-geometry\fP checks that individual elements of a dataset are valid and simple according to the \fI\%OGC\fP Simple Features standard. For each invalid or non\-simple feature, it will output a description and, in most cases, a point location of the error.
.sp
The following checks are performed, depending on the input geometry type:
.INDENT 0.0
.IP \(bu 2
Polygons and MultiPolygons are checked for validity. A single point error point will be reported even if there are multiple causes of invalidity.
.IP \(bu 2
LineStrings and MultiLineStrings are checked for simplicity. All self\-intersection locations will be reported if GDAL is built using version 3.14 or later of the GEOS library. With earlier versions, self\-intersection locations are not reported.
.IP \(bu 2
GeometryCollections are checked that their individual elements are valid / simple. A single error point will be reported even if there are multiple causes of invalidity.
.IP \(bu 2
Other geometry types are not checked.
.UNINDENT
.sp
Validity/simplicity checking is performed by the GEOS library and should be consistent with results of software such as PostGIS, QGIS, and shapely that also use that library. GEOS does not consider repeated points to be a cause of invalidity or non\-simplicity.
.sp
\fBWARNING:\fP
.INDENT 0.0
.INDENT 3.5
Curved geometries are linearized before converting to GEOS. Linearized geometries may be valid/simple where the original geometries are not,
and vice\-versa.
.UNINDENT
.UNINDENT
.SS Standard options
.INDENT 0.0
.TP
.B \-\-geometry\-field
Specify the name of the geometry field to test, for layers having multiple geometry fields. By default the first
geometry field will be used.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-include\-valid
Include features for valid/simple geometries in the output, maintaining 1:1 correspondence between input and output features.
.UNINDENT
.INDENT 0.0
.TP
.B \-f, \-\-of, \-\-format, \-\-output\-format <OUTPUT\-FORMAT>
Which output vector format to use. Allowed values may be given by
\fBgdal \-\-formats | grep vector | grep rw | sort\fP
.UNINDENT
.INDENT 0.0
.TP
.B \-\-co <NAME>=<VALUE>
Many formats have one or more optional dataset creation options that can be
used to control particulars about the file created. For instance,
the GeoPackage driver supports creation options to control the version.
.sp
May be repeated.
.sp
The dataset creation options available vary by format driver, and some
simple formats have no creation options at all. A list of options
supported for a format can be listed with the
\fI\%\-\-formats\fP
command line option but the documentation for the format is the
definitive source of information on driver creation options.
See \fI\%Vector drivers\fP format
specific documentation for legal creation options for each format.
.sp
Note that dataset creation options are different from layer creation options.
.UNINDENT
.INDENT 0.0
.TP
.B \-lco <NAME>=<VALUE>
Layer creation option (format specific)
.UNINDENT
.INDENT 0.0
.TP
.B \-\-overwrite
Allow program to overwrite existing target file or dataset.
Otherwise, by default, \fBgdal\fP errors out if the target file or
dataset already exists.
.UNINDENT
.SS Advanced options
.INDENT 0.0
.TP
.B \-\-oo <NAME>=<VALUE>
Dataset open option (format specific).
.sp
May be repeated.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-if <format>
Format/driver name to be attempted to open the input file(s). It is generally
not necessary to specify it, but it can be used to skip automatic driver
detection, when it fails to select the appropriate driver.
This option can be repeated several times to specify several candidate drivers.
Note that it does not force those drivers to open the dataset. In particular,
some drivers have requirements on file extensions.
.sp
May be repeated.
.UNINDENT
.SH GDALG OUTPUT (ON-THE-FLY / STREAMED DATASET)
.sp
This program supports serializing the command line as a JSON file using the \fBGDALG\fP output format.
The resulting file can then be opened as a vector dataset using the
\fI\%GDALG: GDAL Streamed Algorithm\fP driver, and apply the specified pipeline in a on\-the\-fly /
streamed way.
.sp
\fBNOTE:\fP
.INDENT 0.0
.INDENT 3.5
However this algorithm is not natively streaming compatible. Consequently a
in\-memory temporary dataset will be generated, which may cause significant processing
time at opening.
.UNINDENT
.UNINDENT
.SH EXAMPLES
.SS Example 1: Print invalidity locations to console
.INDENT 0.0
.INDENT 3.5
.sp
.EX
$ gdal vector check\-geometry ne_10m_admin_0_countries.shp \e
         \-\-quiet \e
         \-f CSV \e
         \-\-lco GEOMETRY=AS_XY \e
         \-\-lco SEPARATOR=TAB \e
         /vsistdout/
# X      Y       error
# 35.6210871060001       23.1392929140001        Ring Self\-intersection
.EE
.UNINDENT
.UNINDENT
.SH AUTHOR
Dan Baston <dbaston@gmail.com>
.SH COPYRIGHT
1998-2025
.\" Generated by docutils manpage writer.
.
