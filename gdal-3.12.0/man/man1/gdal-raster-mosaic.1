.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "GDAL-RASTER-MOSAIC" "1" "Nov 07, 2025" "" "GDAL"
.SH NAME
gdal-raster-mosaic \- Build a mosaic
.sp
Added in version 3.11.

.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.EX
Usage: gdal raster mosaic [OPTIONS] <INPUT>... <OUTPUT>

Build a mosaic, either virtual (VRT) or materialized.

Positional arguments:
  \-i, \-\-input <INPUT>                                             Input raster datasets (or specify a @<filename> to point to a file containing filenames) [1.. values] [required]
  \-o, \-\-output <OUTPUT>                                           Output raster dataset [required]

Common Options:
  \-h, \-\-help                                                      Display help message and exit
  \-\-json\-usage                                                    Display usage as JSON document and exit
  \-\-config <KEY>=<VALUE>                                          Configuration option [may be repeated]
  \-q, \-\-quiet                                                     Quiet mode (no progress bar)

Options:
  \-f, \-\-of, \-\-format, \-\-output\-format <OUTPUT\-FORMAT>             Output format (\(dqGDALG\(dq allowed)
  \-\-co, \-\-creation\-option <KEY>=<VALUE>                           Creation option [may be repeated]
  \-\-overwrite                                                     Whether overwriting existing output is allowed
                                                                  Mutually exclusive with \-\-append
  \-\-append                                                        Append as a subdataset to existing output
                                                                  Mutually exclusive with \-\-overwrite
  \-b, \-\-band <BAND>                                               Input band(s) (1\-based index) [may be repeated]
  \-\-absolute\-path                                                 Whether the path to the input datasets should be stored as an absolute path
  \-\-resolution <xres>,<yres>|same|average|common|highest|lowest>  Target resolution (in destination CRS units) (default: same)
  \-\-bbox <BBOX>                                                   Target bounding box as xmin,ymin,xmax,ymax (in destination CRS units)
  \-\-target\-aligned\-pixels                                         Round target extent to target resolution
  \-\-src\-nodata <SRC\-NODATA>                                       Set nodata values for input bands. [1.. values]
  \-\-dst\-nodata <DST\-NODATA>                                       Set nodata values at the destination band level. [1.. values]
  \-\-hide\-nodata                                                   Makes the destination band not report the NoData.
  \-\-add\-alpha                                                     Adds an alpha mask band to the destination when the source raster have none.
  \-\-pixel\-function <PIXEL\-FUNCTION>                               Specify a pixel function to calculate output value from overlapping inputs. PIXEL\-FUNCTION=argmax|argmin|cmul|complex|conj|dB|dB2amp|dB2pow|diff|div|exp|expression|geometric_mean|harmonic_mean|imag|intensity|interpolate_exp|interpolate_linear|inv|log10|max|mean|median|min|mod|mode|mul|norm_diff|phase|polar|pow|real|reclassify|replace_nodata|scale|sqrt|sum
  \-\-pixel\-function\-arg <NAME>=<VALUE>                             Specify argument(s) to pass to the pixel function [may be repeated]

Advanced Options:
  \-\-if, \-\-input\-format <INPUT\-FORMAT>                             Input formats [may be repeated]
  \-\-oo, \-\-open\-option <KEY>=<VALUE>                               Open options [may be repeated]
.EE
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
This program builds a mosaic of a list of input GDAL datasets, that can be
either a virtual mosaic in the \fI\%VRT (Virtual Dataset)\fP format,
or in a more conventional raster format such as GeoTIFF.
.sp
Wildcards \(aq*\(aq, \(aq?\(aq or \(aq[\(aq] of \fI\%VSIGlob()\fP can be used for input dataset
names, even on files located on network file systems such as /vsis3/, /vsigs/, /vsiaz/, etc.
Alternatively if a input dataset name is prefixed by the \fI@\fP character, it will
be assumed to contain the list of actual dataset names (one per line) to use
as input datasets.
.sp
\fBgdal raster mosaic\fP does some checks to ensure that all files that will be put
in the resulting file have similar characteristics: number of bands, projection, color
interpretation, etc. If not, files that do not match the common characteristics will be skipped.
.sp
Starting with GDAL 3.12, a function (e.g., \fBmin\fP, \fBmean\fP, \fBmedian\fP) can
be specified (\fI\%\-\-pixel\-function\fP) to calculate pixel values from
overlapping inputs. If no function is specified, or in earlier versions,
the order of the input list is used to determine priority.
Files that are listed at the end are the ones
from which the content will be fetched. Note that nodata will be taken into account
to potentially fetch data from lower\-priority datasets, but currently, alpha channel
is not taken into account to do alpha compositing (so a source with alpha=0
appearing on top of another source will override its content). This might be
changed in later versions.
.sp
Stating with GDAL 3.12, this command can also be used as the first step of \fI\%gdal raster pipeline\fP\&.
.SS Options
.sp
The following options are available:
.INDENT 0.0
.TP
.B \-f, \-\-of, \-\-format, \-\-output\-format <OUTPUT\-FORMAT>
Which output raster format to use. Allowed values may be given by
\fBgdal \-\-formats | grep raster | grep rw | sort\fP
.UNINDENT
.INDENT 0.0
.TP
.B \-\-co <NAME>=<VALUE>
Many formats have one or more optional creation options that can be
used to control particulars about the file created. For instance,
the GeoTIFF driver supports creation options to control compression,
and whether the file should be tiled.
.sp
May be repeated.
.sp
The creation options available vary by format driver, and some
simple formats have no creation options at all. A list of options
supported for a format can be listed with the
\fI\%\-\-formats\fP
command line option but the documentation for the format is the
definitive source of information on driver creation options.
See \fI\%Raster drivers\fP format
specific documentation for legal creation options for each format.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-overwrite
Allow program to overwrite existing target file or dataset.
Otherwise, by default, \fBgdal\fP errors out if the target file or
dataset already exists.
.UNINDENT
.INDENT 0.0
.TP
.B \-b <band>
Select an input <band> to be processed. Bands are numbered from 1.
If input bands not set all bands will be added to the output.
Multiple \fI\%\-b\fP switches may be used to select a set of input bands.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-resolution {<xres,yres>|same|highest|lowest|average}
In case the resolution of all input files is not the same, the \fI\%\-\-resolution\fP flag
enables the user to control the way the output resolution is computed.
.sp
\fIsame\fP, the default, checks that all source rasters have the same resolution and errors out when this is not the case.
.sp
\fIhighest\fP will pick the smallest values of pixel dimensions within the set of source rasters.
.sp
\fIlowest\fP will pick the largest values of pixel dimensions within the set of source rasters.
.sp
\fIaverage\fP will compute an average of pixel dimensions within the set of source rasters.
.sp
\fIcommon\fP determines the greatest common divisor of the source pixel dimensions, e.g. 0.2 for source pixel dimensions of 0.4 and 0.6.
.sp
<xres>,<yres>. The values must be expressed in georeferenced units.
Both must be positive values.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-absolute\-path
Added in version 3.12.0.

.sp
When writing a VRT file, enables writing the absolute path of the input datasets. By default, input
filenames are written in a relative way with respect to the VRT filename (when possible).
.UNINDENT
.INDENT 0.0
.TP
.B \-\-bbox <xmin>,<ymin>,<xmax>,<ymax>
Set georeferenced extents of output file. The values must be expressed in georeferenced units.
If not specified, the extent of the output is the minimum bounding box of the set of source rasters.
Pixels within the extent of the output but not covered by a source raster will be read as valid
pixels with a value of zero unless a NODATA value is specified using \fI\%\-\-dst\-nodata\fP
or an alpha mask band is added with \fI\%\-\-add\-alpha\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-target\-aligned\-pixels
(target aligned pixels) align
the coordinates of the extent of the output file to the values of the \fI\%\-\-resolution\fP,
such that the aligned extent includes the minimum extent.
Alignment means that xmin / resx, ymin / resy, xmax / resx and ymax / resy are integer values.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-src\-nodata <value>[,<value>]...
Set nodata values for input bands (different values can be supplied for each band).
If the option is not specified, the intrinsic nodata settings on the source datasets
will be used (if they exist). The value set by this option is written in the NODATA element
of each \fBComplexSource\fP element.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dst\-nodata <value>[,<value>]...
Set nodata values at the output band level (different values can be supplied for each band).  If more
than one value is supplied, all values should be quoted to keep them together
as a single operating system argument (\fI\%Example 1\fP). If the option is not specified,
intrinsic nodata settings on the first dataset will be used (if they exist). The value set by this option
is written in the \fBNoDataValue\fP element of each \fBVRTRasterBand element\fP\&. Use a value of
\fINone\fP to ignore intrinsic nodata settings on the source datasets.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-add\-alpha
Adds an alpha mask band to the output when the source raster have none. Mainly useful for RGB sources (or grey\-level sources).
The alpha band is filled on\-the\-fly with the value 0 in areas without any source raster, and with value
255 in areas with source raster. The effect is that a RGBA viewer will render
the areas without source rasters as transparent and areas with source rasters as opaque.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-hide\-nodata
Even if any band contains nodata value, giving this option makes the output band
not report the NoData. Useful when you want to control the background color of
the dataset. By using along with the \fI\%\-\-add\-alpha\fP option, you can prepare a
dataset which doesn\(aqt report nodata value but is transparent in areas with no
data.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-pixel\-function
Specify a function name to calculate a value from overlapping inputs.
For a list of available pixel functions, see \fI\%Built\-in Pixel Functions\fP\&.
If no function is specified, values will be taken from the last overlapping input.
.sp
Added in version 3.12.

.UNINDENT
.INDENT 0.0
.TP
.B \-\-pixel\-function\-arg
Specify an argument to be provided to a pixel function, in the format
\fB<NAME>=<VALUE>\fP\&. Multiple arguments may be specified by repeating this
option.
.sp
Added in version 3.12.

.UNINDENT
.SH GDALG OUTPUT (ON-THE-FLY / STREAMED DATASET)
.sp
This program supports serializing the command line as a JSON file using the \fBGDALG\fP output format.
The resulting file can then be opened as a raster dataset using the
\fI\%GDALG: GDAL Streamed Algorithm\fP driver, and apply the specified pipeline in a on\-the\-fly /
streamed way.
.SH EXAMPLES
.SS Example 1: Make a virtual mosaic with blue background colour (RGB: 0 0 255)
.INDENT 0.0
.INDENT 3.5
.sp
.EX
gdal raster mosaic \-\-hide\-nodata \-\-dst\-nodata=0,0,255 doq/*.tif doq_index.vrt
.EE
.UNINDENT
.UNINDENT
.SH AUTHOR
Even Rouault <even.rouault@spatialys.com>
.SH COPYRIGHT
1998-2025
.\" Generated by docutils manpage writer.
.
