.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "GDAL-RASTER-COLOR-BLEND" "1" "Nov 07, 2025" "" "GDAL"
.SH NAME
gdal-raster-color-blend \- Use a grayscale raster to replace the intensity of a RGB/RGBA dataset
.sp
Added in version 3.12.

.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.EX
Usage: gdal raster blend [OPTIONS] <COLOR\-INPUT> <OVERLAY> <OUTPUT>

Blend/compose two raster datasets

Positional arguments:
  \-i, \-\-color\-input, \-\-input <COLOR\-INPUT>             Input raster dataset [required]
  \-\-overlay <OVERLAY>                                  Overlay dataset [required]
  \-o, \-\-output <OUTPUT>                                Output raster dataset [required]

Common Options:
  \-h, \-\-help                                           Display help message and exit
  \-\-json\-usage                                         Display usage as JSON document and exit
  \-\-config <KEY>=<VALUE>                               Configuration option [may be repeated]
  \-q, \-\-quiet                                          Quiet mode (no progress bar)

Options:
  \-f, \-\-of, \-\-format, \-\-output\-format <OUTPUT\-FORMAT>  Output format (\(dqGDALG\(dq allowed)
  \-\-co, \-\-creation\-option <KEY>=<VALUE>                Creation option [may be repeated]
  \-\-overwrite                                          Whether overwriting existing output is allowed
                                                       Mutually exclusive with \-\-append
  \-\-append                                             Append as a subdataset to existing output
                                                       Mutually exclusive with \-\-overwrite
  \-\-operator <OPERATOR>                                Composition operator. OPERATOR=src\-over|hsv\-value (default: src\-over)
  \-\-opacity <OPACITY>                                  Opacity percentage to apply to the overlay dataset (0=fully transparent, 100=full use of overlay opacity) (default: 100)

Advanced Options:
  \-\-if, \-\-input\-format <INPUT\-FORMAT>                  Input formats [may be repeated]
  \-\-oo, \-\-open\-option <KEY>=<VALUE>                    Open options [may be repeated]
.EE
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
\fBgdal raster blend\fP allows the user to compose two raster datasets
(of the same size) using a selected blending operation and an opacity setting.
.sp
This can be used for example to colorize a hillshade raster generated by
\fI\%gdal raster hillshade\fP with an hypsometric rendering of a DEM generated
by \fI\%gdal raster color\-map\fP when using the \fBhsv\-value\fP blending operator.
.sp
The more standard \fBsrc\-over\fP blending operator, which does \(dqalpha blending\(dq
is also available.
.sp
This subcommand is also available as a potential step of \fI\%gdal raster pipeline\fP
.SS Standard options
.INDENT 0.0
.TP
.B \-f, \-\-of, \-\-format, \-\-output\-format <OUTPUT\-FORMAT>
Which output raster format to use. Allowed values may be given by
\fBgdal \-\-formats | grep raster | grep rw | sort\fP
.UNINDENT
.INDENT 0.0
.TP
.B \-\-co <NAME>=<VALUE>
Many formats have one or more optional creation options that can be
used to control particulars about the file created. For instance,
the GeoTIFF driver supports creation options to control compression,
and whether the file should be tiled.
.sp
May be repeated.
.sp
The creation options available vary by format driver, and some
simple formats have no creation options at all. A list of options
supported for a format can be listed with the
\fI\%\-\-formats\fP
command line option but the documentation for the format is the
definitive source of information on driver creation options.
See \fI\%Raster drivers\fP format
specific documentation for legal creation options for each format.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-overwrite
Allow program to overwrite existing target file or dataset.
Otherwise, by default, \fBgdal\fP errors out if the target file or
dataset already exists.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-input <INPUT>
Name of the dataset into which to blend the overlay dataset. Required.
.sp
When using the \fBhsv\-value\fP blending operator, this must be a three\-band or four\-band Byte raster.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-overlay <GRAYSCALE>
Name of the overlay dataset. Required
.UNINDENT
.INDENT 0.0
.TP
.B \-\-operator src\-over|hsv\-value
Select the blending operator, which defines how the overlay dataset is
blended into the input dataset. Defaults to \fBsrc\-over\fP\&.
.INDENT 7.0
.IP \(bu 2
\fBsrc\-over\fP performs standard alpha blending, by compositing the overlay
dataset over the input dataset.
.sp
Given overlay_{C} the value of one of the red, green or blue
component of the overlay dataset,
overlay_{A} the value of the alpha component of the overlay dataset,
input_{C} the value of the corresponding component of the input dataset,
input_{A} the value of the alpha component of the input dataset
and opacity, the value of \fI\%\-\-opacity\fP, the resulting
component output_{C} is (all values normalized to [0,1] range):
.sp
.ce
output_{C} * output_{A} = (overlay_{C} * overlay_{A} * opacity) + (input_{C} * input_{A} * (1 \- overlay_{A} * opacity))
.ce 0
.sp
with
.sp
.ce
output_{A} = (overlay_{A} * opacity) + (input_{A} * (1 \- overlay_{A} * opacity))
.ce 0
.IP \(bu 2
\fBhsv\-value\fP creates a color with the value of the overlay and the hue
and saturation of the input. It performs the following steps:
.INDENT 2.0
.IP \(bu 2
read the RGB (Red,Green,Blue) components of the input dataset
.IP \(bu 2
transform the RGB components into the HSV (Hue,Saturation,Value) color space
.IP \(bu 2
compute the output value output_{V}, from
input_{V} the input value computed in the previous step,
overlay_{V} the overlay value,
overlay_{A} the value of the alpha component of the overlay dataset
and opacity, the value of \fI\%\-\-opacity\fP (all values normalized to [0,1] range):
.sp
.ce
output_{V} = (overlay_{V} * overlay_{A} * opacity) + (input_{V} * (1 \- overlay_{A} * opacity))
.ce 0
.sp
If the overlay dataset is a RGB/RGBA dataset, overlay_{V} is
max(overlay_{R},overlay_{G},overlay_{B})\&.
.IP \(bu 2
transform back (Hue,Saturation,:math:\fIoutput_{V}\fP) to RGB.
.UNINDENT
.sp
If the the alpha channel of the input dataset is present, it is preserved unchanged.
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-opacity <OPACITY>
Opacity to use when blending the overlay dataset, as a percentage
between 0 and 100. 0 means that the overlay dataset is considered fully
transparent. 100 means that the overlay dataset is blended at the maximum
of its alpha channel.
Defaults to 100.
.UNINDENT
.SH GDALG OUTPUT (ON-THE-FLY / STREAMED DATASET)
.sp
This program supports serializing the command line as a JSON file using the \fBGDALG\fP output format.
The resulting file can then be opened as a raster dataset using the
\fI\%GDALG: GDAL Streamed Algorithm\fP driver, and apply the specified pipeline in a on\-the\-fly /
streamed way.
.SH EXAMPLES
.SS Example 1: Alpha blending of two datasets using 75% opacity for the overlay dataset.
.INDENT 0.0
.INDENT 3.5
.sp
.EX
$ gdal raster blend \-\-opacity 75 source.tif overlay.tif out.tif
.EE
.UNINDENT
.UNINDENT
.SS Example 2: Combine a hillshade and a hypsometric rendering of a DEM into a colorized hillshade.
[image: Hillshade rendering of a DEM]
[image]
[image: Hypsometric rendering of a DEM]
[image]
.INDENT 0.0
.INDENT 3.5
.sp
.EX
$ gdal raster blend \-\-overlay=hillshade.tif \-\-operator=hsv\-value \e
                    hypsometric.tif hypsometric_combined_with_hillshade.tif
.EE
.UNINDENT
.UNINDENT
[image: Colorized hillshade]
[image]
.SH AUTHOR
Even Rouault <even.rouault@spatialys.com>
.SH COPYRIGHT
1998-2025
.\" Generated by docutils manpage writer.
.
